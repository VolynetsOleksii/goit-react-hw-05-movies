"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[957],{26:function(e,n,r){r.d(n,{PY:function(){return o},Y5:function(){return d},on:function(){return l}});var t=r(861),a=r(757),c=r.n(a),s=r(243),i="https://api.themoviedb.org/3/",u="0bf4740b0505867b66253771331711d6",o=function(){var e=(0,t.Z)(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(i,"trending/movie/day?api_key=").concat(u,"&page=1"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function l(e){return p.apply(this,arguments)}function p(){return(p=(0,t.Z)(c().mark((function e(n){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(i,"search/movie?query=").concat(n,"&api_key=").concat(u,"&language=en-US&page=1"));case 2:return r=e.sent,t=r.data,e.abrupt("return",t.results);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(){var e=(0,t.Z)(c().mark((function e(n){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(i,"movie/").concat(n,"?api_key=").concat(u,"&language=en-US"));case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},957:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var t=r(861),a=r(439),c=r(757),s=r.n(c),i=r(26),u=r(793),o=r(184),l=function(e){var n=e.movie,r=n.title,t=n.release_date,a=n.poster_path,c=n.genres,s=n.overview,i=n.vote_average,u=a?"https://image.tmdb.org/t/p/w400/".concat(a):"",l=new Date(t),p=isNaN(l)?"Unknown":l.getFullYear();return(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:u,alt:r}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("h2",{children:[null!==r&&void 0!==r?r:"Unknown"," (",p,")"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"User Score"}),(0,o.jsxs)("p",{children:[(10*i).toFixed(0),"%"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"Overview"}),(0,o.jsx)("p",{children:s})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"Genres"}),c&&c.map((function(e){var n=e.id,r=e.name;return(0,o.jsx)("li",{children:r},n)}))]})]})]})},p=r(791),d=r(689),h=r(87),v=r(596),f=function(){var e,n,r=(0,d.UO)().movieId,c=(0,d.TH)(),f=(0,p.useState)({}),x=(0,a.Z)(f,2),j=x[0],m=x[1];return(0,p.useEffect)((function(){var e=function(){var e=(0,t.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(0,i.Y5)(n).then(m)}catch(r){v.Am.error("Oops, something went wrong, please try again")}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();e(r)}),[r]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.rU,{to:null!==(e=null===c||void 0===c||null===(n=c.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/home",children:(0,o.jsx)("button",{type:"button",children:"Go back"})}),(0,o.jsx)(l,{movie:j}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(h.rU,{to:"cast",children:"Watch casting"})}),(0,o.jsx)("li",{children:(0,o.jsx)(h.rU,{to:"reviews",children:"Watch reviews"})})]}),(0,o.jsx)(p.Suspense,{fallback:(0,o.jsx)(u.Z,{}),children:(0,o.jsx)(d.j3,{})})]})}}}]);
//# sourceMappingURL=957.d3355528.chunk.js.map