"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[349],{26:function(t,e,n){n.d(e,{PY:function(){return u},on:function(){return l}});var r=n(861),o=n(757),a=n.n(o),c=n(243),i="https://api.themoviedb.org/3/",s="0bf4740b0505867b66253771331711d6",u=function(){var t=(0,r.Z)(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("".concat(i,"trending/movie/day?api_key=").concat(s,"&page=1"));case 2:return e=t.sent,n=e.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function l(t){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(a().mark((function t(e){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("".concat(i,"search/movie?query=").concat(e,"&api_key=").concat(s,"&language=en-US&page=1"));case 2:return n=t.sent,r=n.data,t.abrupt("return",r.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},349:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var r=n(861),o=n(439),a=n(757),c=n.n(a),i=n(26),s=n(793),u=n(791),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f=u.createContext&&u.createContext(l),p=function(){return p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},p.apply(this,arguments)},d=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};function h(t){return t&&t.map((function(t,e){return u.createElement(t.tag,p({key:e},t.attr),h(t.child))}))}function m(t){return function(e){return u.createElement(g,p({attr:p({},t.attr)},e),h(t.child))}}function g(t){var e=function(e){var n,r=t.attr,o=t.size,a=t.title,c=d(t,["attr","size","title"]),i=o||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),u.createElement("svg",p({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,c,{className:n,style:p(p({color:t.color||e.color},e.style),t.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),a&&u.createElement("title",null,a),t.children)};return void 0!==f?u.createElement(f.Consumer,null,(function(t){return e(t)})):e(l)}function v(t){return m({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#616161"},child:[{tag:"rect",attr:{x:"34.6",y:"28.1",transform:"matrix(.707 -.707 .707 .707 -15.154 36.586)",width:"4",height:"17"}},{tag:"circle",attr:{cx:"20",cy:"20",r:"16"}}]},{tag:"rect",attr:{x:"36.2",y:"32.1",transform:"matrix(.707 -.707 .707 .707 -15.839 38.239)",fill:"#37474F",width:"4",height:"12.3"}},{tag:"circle",attr:{fill:"#64B5F6",cx:"20",cy:"20",r:"13"}},{tag:"path",attr:{fill:"#BBDEFB",d:"M26.9,14.2c-1.7-2-4.2-3.2-6.9-3.2s-5.2,1.2-6.9,3.2c-0.4,0.4-0.3,1.1,0.1,1.4c0.4,0.4,1.1,0.3,1.4-0.1 C16,13.9,17.9,13,20,13s4,0.9,5.4,2.5c0.2,0.2,0.5,0.4,0.8,0.4c0.2,0,0.5-0.1,0.6-0.2C27.2,15.3,27.2,14.6,26.9,14.2z"}}]})(t)}var x,y,b,w,j=n(168),k=n(444),Z=k.ZP.div(x||(x=(0,j.Z)(["\n  background-color: ",";\n  padding-bottom: 15px;\n  padding-top: 15px;\n  position: fixed;\n  z-index: 100;\n  left: 0;\n  top: 100;\n  right: 0;\n"])),(function(t){return t.theme.colors.lightBlue})),O=k.ZP.form(y||(y=(0,j.Z)(["\n  border: 1px solid ",";\n  width: 320px;\n  display: flex;\n  padding: 5px;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  margin: 0 auto;\n  opacity: 1;\n  border-radius: 5px;\n  box-shadow: ",";\n"])),(function(t){return t.theme.colors.gray}),(function(t){return t.theme.colors.white}),(function(t){return t.theme.shadows.shadow})),P=k.ZP.input(b||(b=(0,j.Z)(["\n  font-size: 20px;\n  border: none;\n  outline: none;\n  background-color: transparent;\n  &::placeholder {\n    font-size: 20px;\n  }\n"]))),z=k.ZP.button(w||(w=(0,j.Z)(["\n  margin-top: 5px;\n  background-color: transparent;\n  border-color: transparent;\n  cursor: pointer;\n  transform: scale(1);\n  color: ",";\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  &:focus {\n    transform: scale(1.15);\n  }\n"])),(function(t){return t.theme.colors.gray})),C=n(596),S=n(184),E=function(t){var e=t.onSubmit;return(0,S.jsx)(Z,{children:(0,S.jsxs)(O,{onSubmit:function(t){t.preventDefault();var n=t.target.elements.query.value;n?(e(n),t.target.reset()):C.Am.info("Please enter something!")},children:[(0,S.jsx)(z,{type:"submit",children:(0,S.jsx)(v,{size:18})}),(0,S.jsx)(P,{type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]})})},B=n(87),N=n(689),_=function(){var t=(0,u.useState)([]),e=(0,o.Z)(t,2),n=e[0],a=e[1],l=(0,u.useState)(!1),f=(0,o.Z)(l,2),p=f[0],d=f[1],h=(0,u.useState)(!1),m=(0,o.Z)(h,2),g=m[0],v=m[1],x=(0,B.lr)(),y=(0,o.Z)(x,2),b=y[0],w=y[1],j=(0,N.TH)();(0,u.useEffect)((function(){var t,e=null!==(t=b.get("query"))&&void 0!==t?t:"";if(e){var n=function(){var t=(0,r.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d(!0),t.next=4,(0,i.on)(e);case 4:0===(n=t.sent).length?(C.Am.info("No movies found"),a([])):a(n),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),C.Am.error(t.t0.message),v(t.t0.message),a([]);case 13:return t.prev=13,d(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,8,13,16]])})));return function(){return t.apply(this,arguments)}}();n()}}),[b]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(E,{onSubmit:function(t){w({query:t})}}),(0,S.jsx)("h2",{children:"Movies Page"}),(0,S.jsx)("ul",{children:n.map((function(t){return(0,S.jsx)("li",{children:(0,S.jsx)(B.OL,{to:"/movies/".concat(t.id),state:{from:j},children:t.title})},t.id)}))}),p&&(0,S.jsx)(s.Z,{}),g&&(0,S.jsx)("p",{children:"'The service is temporarily unavailable. Please try again later.'"}),(0,S.jsx)(C.Ix,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=349.f0288537.chunk.js.map